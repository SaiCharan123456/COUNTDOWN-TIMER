<!DOCTYPE html>
<html>

<head>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

  <!-- COMPONENT FILES-->
  <script src="./fish.js"></script>
  <script src="./coin.js"></script>
  <script src="./rotation.js"></script>
  <script src="./game.js"></script>
</head>

<body>
  <a-scene >
    <!---Assets-->
    <a-a-assets>
      <a-asset-item id="island" src="island/scene.gltf"></a-asset-item>

      <a-asset-item id="treasure" src="treasure/model.gltf"></a-asset-item>
      <a-asset-item id="xyz" src="fish/scene.gltf"></a-asset-item>
      <a-asset-item id="turtle" src="turtle/scene.gltf"></a-asset-item>

      <a-asset-item id="scuba_driver" src="scuba_driver/scene.gltf"></a-asset-item>
    </a-a-assets>

    <!-- Sky -->
    <a-sky geometry="primitive: sphere;"
      material="shader: gradient; bottomColor: #00009e; topColor:109 205 227;offset: 0.0001;" radius="100"
      theta-length="180" side="double"
      animation="property: rotation; to: 0 300 0; easing:linear; loop: true; dur: 500000">
      <!------------------------------------GLTF Models------------------------------------------>

      <!--Island-->
      <a-entity gltf-model="#island" scale="1 1 1" position="0 -15 -40"></a-entity>

      <!--Trasures-->
      <a-entity gltf-model="#treasure" scale="15 15 15" position="0 -30 -40" rotation="0 90 0"></a-entity>

      <a-entity gltf-model="#treasure" scale="15 15 15" position="10 -30 -40" rotation="0 90 0"></a-entity>

      <a-entity gltf-model="#treasure" scale="15 15 15" position="-15 -30 -40" rotation="0 90 0"></a-entity>

      <!--Fish Entity-->
      <a-entity position="0 0 0" id="fishModels" fish> </a-entity>

      <!--Treasure Entity-->
      <a-entity position="0 0 0" id="treasureCoins" coins> </a-entity>

      <!--Turtule-->
      <a-entity gltf-model="#turtle" scale="0.005 0.005 0.005" position="0 -30 0" rotation="0 90 0"></a-entity>
    </a-sky>

    <!--Scuba Driver-->
    <a-entity id="scuba_driver_model" gltf-model="#scuba_driver" scale="0.1 0.1 0.1" position="0 0 15" rotation="0 90 0" scuba-driver
      body="type: dynamic; mass:0; shape: none;"
      shape="shape:cylinder; offset:50 100 -50 ; height:100; radiusTop:50; radiusBottom:50;" game-play>
      
      <a-sphere id="bubble1" position="52.9829 119.97737 -49.38121" radius="1" color="#b2ebf2"
        animation="property: position; to: 52.9829 300 -49.38121;easing:linear; loop: true; dur: 2000"></a-sphere>
    </a-entity>

    <a-cylinder color="#00009e" radius="100" opacity="0.2"></a-cylinder>

    <!-- CAMERA -->
    <a-entity camera="active: true" look-controls position="0 10 25"></a-entity>

    <a-entity id="header" position="0.7 6 0">
      
      <a-entity position="-28.5 23.5 0"
        text="font: exo2bold; align: center; width: 40; color: black; value: VIRTUAL SCUBA DIVING SIMULATION">
      </a-entity>

      
      <a-entity position="-23.5 21 0">
        <a-entity position="-1 0.07 0" text="font: aileronsemibold; width: 25; color: black; value: TIME\nREMAINING">
        </a-entity>
        <a-entity id="timer" position="-16.8 0.3 0"
          text="font: exo2bold; align: center; width: 50; color: black; value: 00:00"></a-entity>
      </a-entity>


      <a-entity position="-18 21 0">
        <a-entity position="4 0.13 0"
          text="font: aileronsemibold; width:25; color: black; value: TRAGETS\nREMAINING"></a-entity>
        <a-entity id="targets" position="-10 0.3 0"
          text="font: exo2bold; align: center; width: 50; color: black; value: 20"></a-entity>
      </a-entity>


      <a-entity position="38.5 23.5 0">
        <a-entity position="" text="font: exo2bold; align: center; width: 60; color: black; value: SCORE"></a-entity>
        <a-entity id="score" position="0 -2.5 0" text="font: exo2bold; align: center; width: 60; color: black; value: 0">
        </a-entity>
      </a-entity>
    </a-entity>

    <a-entity id="game_over_text" position="0 10 3"
      text="font: exo2bold; align: center; width: 100; color: white;value: Game Over!!!" visible="false"></a-entity>
  </a-scene>
</body>

</html>